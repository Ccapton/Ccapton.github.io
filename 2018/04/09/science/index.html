<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="爱技术爱生活">
    

    <!--Author-->
    
        <meta name="author" content="Ccapton">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="利用自建国外服务器开启专属于自己的VPN服务(brook框架)，翻墙上网速度快到飞起！"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="爱技术爱生活" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Ccapton技术空间"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>利用自建国外服务器开启专属于自己的VPN服务(brook框架)，翻墙上网速度快到飞起！ - Ccapton技术空间</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    主页
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    档案
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    标签
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    目录
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa /favicon.ico" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2018/04/09/science/">
                利用自建国外服务器开启专属于自己的VPN服务(brook框架)，翻墙上网速度快到飞起！
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-04-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/科学上网/">科学上网</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <blockquote>
<p>关于我，欢迎关注<br>csdn博客：ccapton(<a href="http://blog.csdn.net/ccapton" target="_blank" rel="external">http://blog.csdn.net/ccapton</a>) 微信：<a href="">Ccapton</a><br>Github: (<a href="https://www.github.com/ccapton" target="_blank" rel="external">https://www.github.com/ccapton</a>)<br>个人博客:<a href="http://www.ccapton.cn/" target="_blank" rel="external">http://www.ccapton.cn</a><br>E-mail: 437499914@qq.com、chenweibin1125@foxmail.com<br>我的简书   <a href="https://www.jianshu.com/u/df3b46206dc4" target="_blank" rel="external">https://www.jianshu.com/u/df3b46206dc4</a></p>
</blockquote>
<h3 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h3><p>之前科学上网时，一直是买一些vpn提供商的服务，但是性价比非常低。因为自己不是天天翻墙查资料、看youtube视频，每个月10-20块的支出感觉有点多余，加上他们的速度简直不敢恭维，卡的不行。后来找了一个免费的vpn平台，还是因为它的速度，让我提不起兴趣每次上网的时候去开启软件，因为一旦开启的vpn，浏览国内的ip内容就会很慢。终于前两天在逛今日头条的时候看到一个关于自建谷歌服务器（国外ip的服务器）科学上网的视频(这段视频很快被今日头条官方和谐掉了2333，还好我眼疾手快，很快就明白了之中的原理)，加上我对Linux服务器的理解，很快就搭建了一个外服的vpn服务系统，现在能通过各平台客户端连接到vpn服务器并科学上网了，速度简直出乎所有人意料的快，令我非常满意。现在特地写出这篇博文给小伙伴们分享一下，让你们体验从所未有的科学冲浪！</p>
<a id="more"></a>
<p><strong>Youtube的1080p视频拖放</strong></p>
<p><img src="https://raw.githubusercontent.com/Ccapton/FileRepertory/master/files/youtube.gif" alt="youtube的1080p视频拖放"></p>
<h3 id="二、原理"><a href="#二、原理" class="headerlink" title="二、原理"></a>二、原理</h3><p><strong>这个vpn的根本原理是：一个境外ip的服务器转发国内客户端的网络请求，即服务器充当一个路由器的功能，所有境外ip的内容都会经由服务器返回给对应客户端</strong></p>
<h3 id="三、私人VPN搭建概要"><a href="#三、私人VPN搭建概要" class="headerlink" title="三、私人VPN搭建概要"></a>三、私人VPN搭建概要</h3><ul>
<li>搭建一个境外的Linux服务器(我搭建的是Ubuntu，因为Ubuntu集成了很多常用的指令集合)</li>
<li>通过ssh访问Linux服务器，在Linux服务器内搭建VPN服务（brook框架），这里需要提前安装Go语言的环境（brook服务器框架是go语音写的）</li>
<li>客户端（Windows ,Mac ,Android ,Ios）填写Linux服务器的公共ipv4地址、端口 ，密码访问Linux服务器的vpn服务。这样就可以科学上网了</li>
</ul>
<p>搭建服务器，说实话，如果一点基础知识都没有的话，弄起来确实有点懵，不过用过国内的云服务（阿里云，腾讯云，京东云的云主机服务）的朋友就很容易上手了，因为这些东西都是大同小异的。</p>
<p>国内的dns服务器会屏蔽掉谷歌、youtube等很多公司的内容服务ip，但他们提供给个人用户的云服务器ip不会被屏蔽）</p>
<h3 id="四、代码材料"><a href="#四、代码材料" class="headerlink" title="四、代码材料"></a>四、代码材料</h3><ul>
<li><p>Go语言环境搭建教程 <a href="http://www.runoob.com/go/go-environment.html" target="_blank" rel="external">http://www.runoob.com/go/go-environment.html</a></p>
</li>
<li><p>brook框架 <a href="https://github.com/txthinking/brook" target="_blank" rel="external">https://github.com/txthinking/brook</a> (请仔细阅读此框架的文档)</p>
<p> 1、brook服务器 <a href="https://github.com/txthinking/brook/releases/download/v20180401/brook" target="_blank" rel="external">https://github.com/txthinking/brook/releases/download/v20180401/brook</a> （根据你的服务器内核在github说明页选择对应版本）</p>
<p> 2、brook客户端 （Android客户端为例，可按照需要选择相应的平台）<a href="https://github.com/txthinking/brook/releases/download/v20180401/Brook.apk" target="_blank" rel="external">https://github.com/txthinking/brook/releases/download/v20180401/Brook.apk</a></p>
</li>
</ul>
<h3 id="五、具体步骤"><a href="#五、具体步骤" class="headerlink" title="五、具体步骤"></a>五、具体步骤</h3><p><strong>1、搭建服务器：</strong></p>
<p>这里我选择了亚马逊的云服务器，因为他们有一年云服务免费使用的福利套餐！！！（谷歌云也是免费一年，还有300美元的云服务消费额度）</p>
<p>（1）首先用你的邮箱注册一个亚马逊云服务的账号（最好不要用QQ邮箱，很有可能收不到验证邮件！），我用的是Foxmail，这也是腾讯的邮箱（和QQ邮箱绑定的），你们可以用网易邮箱。<br>登录你的控制台，<strong>然后填写一个很重要的支付账号，需要提供一个信用卡信息</strong>。如果你有信用卡，就如实填写，没有就去淘宝买一个虚拟的visa卡（8块左右）（提前和淘宝客户沟通买虚拟Visa的用途，他提供卡号，过期日期），<br>然后按照下图操作：<br><img src="https://raw.githubusercontent.com/Ccapton/FileRepertory/master/files/1.jpeg" alt=""><br><img src="https://raw.githubusercontent.com/Ccapton/FileRepertory/master/files/2.jpeg" alt=""><br><img src="https://raw.githubusercontent.com/Ccapton/FileRepertory/master/files/3.jpeg" alt=""></p>
<p>关于美国公民的用户信息格式可以参考 <a href="http://www.haoweichi.com/" target="_blank" rel="external">http://www.haoweichi.com/</a> （里面的信用卡都是没用的，我只是给你看地址和邮编的对应格式）</p>
<p>填写完支付账号后，就等个几小时（上面写一天内会验证完，实际很快，我的不用一小时就验证完了），等系统验证信用卡真实后就可以进入控制台生成云服务器了</p>
<p>（2）搭建亚马逊Linux服务器(EC2)教程 <a href="https://jingyan.baidu.com/article/0eb457e5d7848403f0a90545.html" target="_blank" rel="external">https://jingyan.baidu.com/article/0eb457e5d7848403f0a90545.html</a></p>
<p><strong>2、搭建代码环境  (需要了解 指令 cd 、wget )</strong></p>
<p>（1）通过ssh登录Linux服务器（控制台有教程）</p>
<p>（2）先搭建go语言环境 <a href="http://www.runoob.com/go/go-environment.html" target="_blank" rel="external">http://www.runoob.com/go/go-environment.html</a> (如果出现权限报错，请在指令前加 sudo 再执行，下载文件的指令的格式为： wget 文件地址)</p>
<p>（3）下载brook服务器 <a href="https://github.com/txthinking/brook/releases/download/v20180401/brook" target="_blank" rel="external">https://github.com/txthinking/brook/releases/download/v20180401/brook</a> （根据你的服务器内核在github说明页选择对应版本）</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">wget</span> https://github.com/txthinking/brook/releases/download/v20180401/brook
</code></pre>
<p><strong>3、运行brook服务器</strong></p>
<p>先改变brook文件执行权限 </p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">chmod</span> +x brook
</code></pre>
<p>开跑程序！！！</p>
<p>前台模式</p>
<pre class=" language-bash"><code class="language-bash">./brook server -l :9999 -p 6666
</code></pre>
<p>后台模式</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">nohup</span> ./brook server -l :9999 -p 6666 <span class="token operator">&amp;</span>
</code></pre>
<p><strong>(ps：9999是端口号，6666是你要设定的密码，这两个都可以修改)</strong></p>
<p><strong>前台模式下：CTRL+C 退出brook程序</strong><br><strong>后台模式下：先 CTRL+C 后 killall brook 退出brook程序</strong><br>brook服务器的具体操作请阅读源码说明 <a href="https://github.com/txthinking/brook/wiki/How-to-run-Brook-Server-on-Linux%3F" target="_blank" rel="external">https://github.com/txthinking/brook/wiki/How-to-run-Brook-Server-on-Linux%3F</a></p>
<p>(如果下载brook时，你更改了brook的保存路径，就用 cd 指令更改当前目录为brook文件的目录路径) </p>
<p><strong>4、客户端brook连接到vpn（android为例）</strong></p>
<p>下载 <a href="https://github.com/txthinking/brook/releases/download/v20180401/Brook.apk" target="_blank" rel="external">https://github.com/txthinking/brook/releases/download/v20180401/Brook.apk</a></p>
<p><img src="https://raw.githubusercontent.com/Ccapton/FileRepertory/master/files/4.jpeg" width="300px"></p>
<h3 id="六、后记"><a href="#六、后记" class="headerlink" title="六、后记"></a>六、后记</h3><p>到此，这个vpn系统就弄好了！非常快的科学上网体验，你值得拥有！<br>本来想在简书和csdn上发这篇文章的，但是最近国家打击vpn软件非常严厉，关于翻墙，科学上网的文章教程一律不得发布、转载了。所以就写在我的博客里吧<br>希望有缘人看到这篇文章就多来我的博客、简书、github留言哈！<br>有什么问题不懂的也可以邮件联系我</p>
<blockquote>
<p>E-mail: 437499914@qq.com、chenweibin1125@foxmail.com</p>
</blockquote>
<p>好吧，祝各位工作顺利、生活愉快！</p>
<blockquote>
<p>我的github  <a href="https://github.com/Ccapton" target="_blank" rel="external">https://github.com/Ccapton</a><br>我的简书   <a href="https://www.jianshu.com/u/df3b46206dc4" target="_blank" rel="external">https://www.jianshu.com/u/df3b46206dc4</a></p>
</blockquote>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/科学上网/">#科学上网</a> <a href="/tags/vpn/">#vpn</a> <a href="/tags/免费翻墙/">#免费翻墙</a> <a href="/tags/亚马逊云主机/">#亚马逊云主机</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    主题源自<a href="https://github.com/klugjo">Jonathan Klughertz</a>. 源码在Github可用.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2018/08/09/science2/">科学上网最优方案 ( VPS + Lotsever</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2018/08/04/lifan/">利用python抓包、爬取裡蕃收藏夹（移动app）</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2018/07/30/filetransporter/">用python打造一个基于socket的文件（夹）</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2018/06/20/rolecontroller/">基于cocos2d-x引擎的角色控制器</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/游戏开发/">游戏开发</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Android/">Android</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Java技术/">Java技术</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Python/">Python</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/ccapton">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:chenweibin1125@foxmail.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\atom.xml">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Ccapton. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>